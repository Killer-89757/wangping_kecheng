# 爬虫系统架构

也叫：爬虫程序设计

- 一套数据采集的技术解决方案

- 通常情况下，我们编写的是最简单的爬虫脚本，也需要用到很多的技术

- requests、xpath、正则、多线程、异步、数据库等

- 我们需要将这些库合理的搭配使用、设计出一套程序

- 最常见的系统架构：[scrapy](https://docs.scrapy.org/en/latest/topics/architecture.html)

仿照scrapy的设计思路：

![](https://cdn.jsdelivr.net/gh/Killer-89757/PicBed/images/2024%2F04%2Fimage-20240404111939434-29fe0c.png)

## 为什么要自己做框架设计

1. 爬虫框架比其他框架来说，开发容易，耗时不会太久
2. 可以根据公司的业务逻辑，去编写何时的框架逻辑，也就是定制化
3. 如果只是会使用框架，那么技能就局限于爬虫，如果自己会搭建框架，则收益会更多

## 技术储备

1. **python语言知识**：这个是基础，需要熟练掌握python。熟悉数据类型，异常处理，函数和面向对象的基础知识
2. **网络知识**：理解HTTP协议以及网络请求和响应的基本概念是非常重要的
3. **html、xpath、正则**：解析和理解网页的结构和内容、并提取所需要的数据
4. **数据库知识**：框架需要一个数据库来存储爬取到的数据，Mysql\MongoDB等
5. **异步编程(重点)**：使用异步来处理并发请求，理解并能实现异步编程是编写流程的关键
6. **scrapy**：此次系统架构采用和scrapy一样的接口，降低学习成本

系统流程图如下：

![](https://cdn.jsdelivr.net/gh/Killer-89757/PicBed/images/2024%2F04%2F%E6%9C%AA%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6%20-1--f77be5.png)

系统架构图：

![](https://cdn.jsdelivr.net/gh/Killer-89757/PicBed/images/2024%2F04%2Fimage-20240404120758593-bc7e72.png)

那么我们需要使用以上的技术解决如下的问题

1. 项目结构
2. 请求管理和调度
3. 请求下载
4. 页面解析
5. 数据存储
6. 并发处理
7. 日志记录
8. 配置文件